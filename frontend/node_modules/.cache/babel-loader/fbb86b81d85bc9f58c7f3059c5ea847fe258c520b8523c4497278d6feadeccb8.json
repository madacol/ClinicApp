{"ast":null,"code":"\"use strict\";\n\nvar _excluded = [\"modules\"];\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar DocUtils = require(\"./doc-utils.js\");\nDocUtils.traits = require(\"./traits.js\");\nDocUtils.moduleWrapper = require(\"./module-wrapper.js\");\nvar createScope = require(\"./scope-manager.js\");\nvar Lexer = require(\"./lexer.js\");\nvar commonModule = require(\"./modules/common.js\");\nfunction deprecatedMessage(obj, message) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.warn(message);\n}\nfunction deprecatedMethod(obj, method) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  return deprecatedMessage(obj, \"Deprecated method \\\".\".concat(method, \"\\\", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \").concat(new Error().stack));\n}\nvar _require = require(\"./errors.js\"),\n  throwMultiError = _require.throwMultiError,\n  throwResolveBeforeCompile = _require.throwResolveBeforeCompile,\n  throwRenderInvalidTemplate = _require.throwRenderInvalidTemplate,\n  throwRenderTwice = _require.throwRenderTwice,\n  XTInternalError = _require.XTInternalError,\n  throwFileTypeNotIdentified = _require.throwFileTypeNotIdentified,\n  throwFileTypeNotHandled = _require.throwFileTypeNotHandled,\n  throwApiVersionError = _require.throwApiVersionError;\nvar logErrors = require(\"./error-logger.js\");\nvar collectContentTypes = require(\"./collect-content-types.js\");\nvar getDefaults = DocUtils.getDefaults,\n  str2xml = DocUtils.str2xml,\n  xml2str = DocUtils.xml2str,\n  moduleWrapper = DocUtils.moduleWrapper,\n  concatArrays = DocUtils.concatArrays,\n  uniq = DocUtils.uniq,\n  getDuplicates = DocUtils.getDuplicates,\n  stableSort = DocUtils.stableSort,\n  pushArray = DocUtils.pushArray;\nvar ctXML = \"[Content_Types].xml\";\nvar relsFile = \"_rels/.rels\";\nvar currentModuleApiVersion = [3, 44, 0];\nfunction dropUnsupportedFileTypesModules(doc) {\n  doc.modules = doc.modules.filter(function (module) {\n    if (!module.supportedFileTypes) {\n      return true;\n    }\n    if (!Array.isArray(module.supportedFileTypes)) {\n      throw new Error(\"The supportedFileTypes field of the module must be an array\");\n    }\n    var isSupportedModule = module.supportedFileTypes.includes(doc.fileType);\n    if (!isSupportedModule) {\n      module.on(\"detached\");\n    }\n    return isSupportedModule;\n  });\n}\nfunction verifyErrors(doc) {\n  var compiled = doc.compiled;\n  doc.errors = concatArrays(Object.keys(compiled).map(function (name) {\n    return compiled[name].allErrors;\n  }));\n  if (doc.errors.length !== 0) {\n    if (doc.options.errorLogging) {\n      logErrors(doc.errors, doc.options.errorLogging);\n    }\n    throwMultiError(doc.errors);\n  }\n}\nvar Docxtemplater = /*#__PURE__*/function () {\n  function Docxtemplater(zip) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$modules = _ref.modules,\n      modules = _ref$modules === void 0 ? [] : _ref$modules,\n      options = _objectWithoutProperties(_ref, _excluded);\n    _classCallCheck(this, Docxtemplater);\n    this.targets = [];\n    this.rendered = false;\n    this.scopeManagers = {};\n    this.compiled = {};\n    this.modules = [commonModule()];\n    this.xmlDocuments = {};\n    if (arguments.length === 0) {\n      deprecatedMessage(this, \"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \".concat(new Error().stack));\n      this.hideDeprecations = true;\n      this.setOptions(options);\n    } else {\n      this.hideDeprecations = true;\n      this.setOptions(options);\n      if (!zip || !zip.files || typeof zip.file !== \"function\") {\n        throw new Error(\"The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      if (!Array.isArray(modules)) {\n        throw new Error(\"The modules argument of docxtemplater's constructor must be an array\");\n      }\n      for (var _i2 = 0; _i2 < modules.length; _i2++) {\n        var _module = modules[_i2];\n        this.attachModule(_module);\n      }\n      this.loadZip(zip);\n      this.compile();\n      this.v4Constructor = true;\n    }\n    this.hideDeprecations = false;\n  }\n  return _createClass(Docxtemplater, [{\n    key: \"verifyApiVersion\",\n    value: function verifyApiVersion(neededVersion) {\n      neededVersion = neededVersion.split(\".\").map(function (i) {\n        return parseInt(i, 10);\n      });\n      if (neededVersion.length !== 3) {\n        throwApiVersionError(\"neededVersion is not a valid version\", {\n          neededVersion: neededVersion,\n          explanation: \"the neededVersion must be an array of length 3\"\n        });\n      }\n      if (neededVersion[0] !== currentModuleApiVersion[0]) {\n        throwApiVersionError(\"The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] > currentModuleApiVersion[1]) {\n        throwApiVersionError(\"The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] === currentModuleApiVersion[1] && neededVersion[2] > currentModuleApiVersion[2]) {\n        throwApiVersionError(\"The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"setModules\",\n    value: function setModules(obj) {\n      for (var _i4 = 0, _this$modules2 = this.modules; _i4 < _this$modules2.length; _i4++) {\n        var _module2 = _this$modules2[_i4];\n        _module2.set(obj);\n      }\n    }\n  }, {\n    key: \"sendEvent\",\n    value: function sendEvent(eventName) {\n      for (var _i6 = 0, _this$modules4 = this.modules; _i6 < _this$modules4.length; _i6++) {\n        var _module3 = _this$modules4[_i6];\n        _module3.on(eventName);\n      }\n    }\n  }, {\n    key: \"attachModule\",\n    value: function attachModule(module) {\n      if (this.v4Constructor) {\n        throw new XTInternalError(\"attachModule() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"attachModule\");\n      var moduleType = _typeof(module);\n      if (moduleType === \"function\") {\n        throw new XTInternalError(\"Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.\");\n      }\n      if (!module || moduleType !== \"object\") {\n        throw new XTInternalError(\"Cannot attachModule with a falsy value\");\n      }\n      if (module.requiredAPIVersion) {\n        this.verifyApiVersion(module.requiredAPIVersion);\n      }\n      if (module.attached === true) {\n        if (typeof module.clone === \"function\") {\n          module = module.clone();\n        } else {\n          throw new Error(\"Cannot attach a module that was already attached : \\\"\".concat(module.name, \"\\\". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater\"));\n        }\n      }\n      module.attached = true;\n      var wrappedModule = moduleWrapper(module);\n      this.modules.push(wrappedModule);\n      wrappedModule.on(\"attached\");\n      if (this.fileType) {\n        dropUnsupportedFileTypesModules(this);\n      }\n      return this;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this$delimiters, _this$delimiters2;\n      if (this.v4Constructor) {\n        throw new Error(\"setOptions() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"setOptions\");\n      if (!options) {\n        throw new Error(\"setOptions should be called with an object as first parameter\");\n      }\n      this.options = {};\n      var defaults = getDefaults();\n      for (var key in defaults) {\n        var defaultValue = defaults[key];\n        this.options[key] = options[key] != null ? options[key] : this[key] || defaultValue;\n        this[key] = this.options[key];\n      }\n      (_this$delimiters = this.delimiters).start && (_this$delimiters.start = DocUtils.utf8ToWord(this.delimiters.start));\n      (_this$delimiters2 = this.delimiters).end && (_this$delimiters2.end = DocUtils.utf8ToWord(this.delimiters.end));\n      return this;\n    }\n  }, {\n    key: \"loadZip\",\n    value: function loadZip(zip) {\n      if (this.v4Constructor) {\n        throw new Error(\"loadZip() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"loadZip\");\n      if (zip.loadAsync) {\n        throw new XTInternalError(\"Docxtemplater doesn't handle JSZip version >=3, please use pizzip\");\n      }\n      this.zip = zip;\n      this.updateFileTypeConfig();\n      this.modules = concatArrays([this.fileTypeConfig.baseModules.map(function (moduleFunction) {\n        return moduleFunction();\n      }), this.modules]);\n      for (var _i8 = 0, _this$modules6 = this.modules; _i8 < _this$modules6.length; _i8++) {\n        var _module4 = _this$modules6[_i8];\n        _module4.zip = this.zip;\n        _module4.docxtemplater = this;\n      }\n      dropUnsupportedFileTypesModules(this);\n      return this;\n    }\n  }, {\n    key: \"precompileFile\",\n    value: function precompileFile(fileName) {\n      var currentFile = this.createTemplateClass(fileName);\n      currentFile.preparse();\n      this.compiled[fileName] = currentFile;\n    }\n  }, {\n    key: \"compileFile\",\n    value: function compileFile(fileName) {\n      this.compiled[fileName].parse();\n    }\n  }, {\n    key: \"getScopeManager\",\n    value: function getScopeManager(to, currentFile, tags) {\n      var _this$scopeManagers;\n      (_this$scopeManagers = this.scopeManagers)[to] || (_this$scopeManagers[to] = createScope({\n        tags: tags,\n        parser: this.parser,\n        cachedParsers: currentFile.cachedParsers\n      }));\n      return this.scopeManagers[to];\n    }\n  }, {\n    key: \"resolveData\",\n    value: function resolveData(data) {\n      var _this = this;\n      deprecatedMethod(this, \"resolveData\");\n      var errors = [];\n      if (!Object.keys(this.compiled).length) {\n        throwResolveBeforeCompile();\n      }\n      return Promise.resolve(data).then(function (data) {\n        _this.data = data;\n        _this.setModules({\n          data: _this.data,\n          Lexer: Lexer\n        });\n        _this.mapper = _this.modules.reduce(function (value, module) {\n          return module.getRenderedMap(value);\n        }, {});\n        return Promise.all(Object.keys(_this.mapper).map(function (to) {\n          var _this$mapper$to = _this.mapper[to],\n            from = _this$mapper$to.from,\n            data = _this$mapper$to.data;\n          return Promise.resolve(data).then(function (data) {\n            var currentFile = _this.compiled[from];\n            currentFile.filePath = to;\n            currentFile.scopeManager = _this.getScopeManager(to, currentFile, data);\n            return currentFile.resolveTags(data).then(function (result) {\n              currentFile.scopeManager.finishedResolving = true;\n              return result;\n            }, function (errs) {\n              Array.prototype.push.apply(errors, errs);\n            });\n          });\n        })).then(function (resolved) {\n          if (errors.length !== 0) {\n            if (_this.options.errorLogging) {\n              logErrors(errors, _this.options.errorLogging);\n            }\n            throwMultiError(errors);\n          }\n          return concatArrays(resolved);\n        });\n      });\n    }\n  }, {\n    key: \"reorderModules\",\n    value: function reorderModules() {\n      /**\n       * Modules will be sorted according to priority.\n       *\n       * Input example:\n       * [\n       *   { priority: 1, name: \"FooMod\" },\n       *   { priority: -1, name: \"XMod\" },\n       *   { priority: 4, name: \"OtherMod\" }\n       * ]\n       *\n       * Output example (sorted by priority in descending order):\n       * [\n       *   { priority: 4, name: \"OtherMod\" },\n       *   { priority: 1, name: \"FooMod\" },\n       *   { priority: -1, name: \"XMod\" }\n       * ]\n       */\n      this.modules = stableSort(this.modules, function (m1, m2) {\n        return (m2.priority || 0) - (m1.priority || 0);\n      });\n    }\n  }, {\n    key: \"throwIfDuplicateModules\",\n    value: function throwIfDuplicateModules() {\n      var duplicates = getDuplicates(this.modules.map(function (_ref2) {\n        var name = _ref2.name;\n        return name;\n      }));\n      if (duplicates.length > 0) {\n        throw new XTInternalError(\"Detected duplicate module \\\"\".concat(duplicates[0], \"\\\"\"));\n      }\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      var _this2 = this;\n      deprecatedMethod(this, \"compile\");\n      this.updateFileTypeConfig();\n      this.throwIfDuplicateModules();\n      this.reorderModules();\n      if (Object.keys(this.compiled).length) {\n        return this;\n      }\n      this.options = this.modules.reduce(function (options, module) {\n        return module.optionsTransformer(options, _this2);\n      }, this.options);\n      this.options.xmlFileNames = uniq(this.options.xmlFileNames);\n      for (var _i10 = 0, _this$options$xmlFile2 = this.options.xmlFileNames; _i10 < _this$options$xmlFile2.length; _i10++) {\n        var fileName = _this$options$xmlFile2[_i10];\n        var content = this.zip.files[fileName].asText();\n        this.xmlDocuments[fileName] = str2xml(content);\n      }\n      this.setModules({\n        zip: this.zip,\n        xmlDocuments: this.xmlDocuments\n      });\n      this.getTemplatedFiles();\n      /*\n       * Loop inside all templatedFiles (ie xml files with content).\n       * Sometimes they don't exist (footer.xml for example)\n       */\n      for (var _i12 = 0, _this$templatedFiles2 = this.templatedFiles; _i12 < _this$templatedFiles2.length; _i12++) {\n        var _fileName = _this$templatedFiles2[_i12];\n        if (this.zip.files[_fileName] != null) {\n          this.precompileFile(_fileName);\n        }\n      }\n      for (var _i14 = 0, _this$templatedFiles4 = this.templatedFiles; _i14 < _this$templatedFiles4.length; _i14++) {\n        var _fileName2 = _this$templatedFiles4[_i14];\n        if (this.zip.files[_fileName2] != null) {\n          this.compileFile(_fileName2);\n        }\n      }\n      this.setModules({\n        compiled: this.compiled\n      });\n      verifyErrors(this);\n      return this;\n    }\n  }, {\n    key: \"getRelsTypes\",\n    value: function getRelsTypes() {\n      var rootRels = this.zip.files[relsFile];\n      var rootRelsXml = rootRels ? str2xml(rootRels.asText()) : null;\n      var rootRelationships = rootRelsXml ? rootRelsXml.getElementsByTagName(\"Relationship\") : [];\n      var relsTypes = {};\n      for (var _i16 = 0; _i16 < rootRelationships.length; _i16++) {\n        var relation = rootRelationships[_i16];\n        relsTypes[relation.getAttribute(\"Target\")] = relation.getAttribute(\"Type\");\n      }\n      return relsTypes;\n    }\n  }, {\n    key: \"getContentTypes\",\n    value: function getContentTypes() {\n      var contentTypes = this.zip.files[ctXML];\n      var contentTypeXml = contentTypes ? str2xml(contentTypes.asText()) : null;\n      var overrides = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Override\") : null;\n      var defaults = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Default\") : null;\n      return {\n        overrides: overrides,\n        defaults: defaults,\n        contentTypes: contentTypes,\n        contentTypeXml: contentTypeXml\n      };\n    }\n  }, {\n    key: \"updateFileTypeConfig\",\n    value: function updateFileTypeConfig() {\n      var fileType;\n      if (this.zip.files.mimetype) {\n        fileType = \"odt\";\n      }\n      this.relsTypes = this.getRelsTypes();\n      var _this$getContentTypes = this.getContentTypes(),\n        overrides = _this$getContentTypes.overrides,\n        defaults = _this$getContentTypes.defaults,\n        contentTypes = _this$getContentTypes.contentTypes,\n        contentTypeXml = _this$getContentTypes.contentTypeXml;\n      if (contentTypeXml) {\n        this.filesContentTypes = collectContentTypes(overrides, defaults, this.zip);\n        this.invertedContentTypes = DocUtils.invertMap(this.filesContentTypes);\n        this.setModules({\n          contentTypes: this.contentTypes,\n          invertedContentTypes: this.invertedContentTypes\n        });\n      }\n      for (var _i18 = 0, _this$modules8 = this.modules; _i18 < _this$modules8.length; _i18++) {\n        var _module5 = _this$modules8[_i18];\n        fileType = _module5.getFileType({\n          zip: this.zip,\n          contentTypes: contentTypes,\n          contentTypeXml: contentTypeXml,\n          overrides: overrides,\n          defaults: defaults,\n          doc: this\n        }) || fileType;\n      }\n      if (fileType === \"odt\") {\n        throwFileTypeNotHandled(fileType);\n      }\n      if (!fileType) {\n        throwFileTypeNotIdentified(this.zip);\n      }\n      for (var _i20 = 0, _this$modules10 = this.modules; _i20 < _this$modules10.length; _i20++) {\n        var _module6 = _this$modules10[_i20];\n        for (var _i22 = 0, _ref4 = _module6.xmlContentTypes || []; _i22 < _ref4.length; _i22++) {\n          var contentType = _ref4[_i22];\n          pushArray(this.options.xmlFileNames, this.invertedContentTypes[contentType] || []);\n        }\n      }\n      this.fileType = fileType;\n      dropUnsupportedFileTypesModules(this);\n      this.fileTypeConfig = this.options.fileTypeConfig || this.fileTypeConfig || Docxtemplater.FileTypeConfig[this.fileType]();\n      return this;\n    }\n  }, {\n    key: \"renderAsync\",\n    value: function renderAsync(data) {\n      var _this3 = this;\n      this.hideDeprecations = true;\n      var promise = this.resolveData(data);\n      this.hideDeprecations = false;\n      return promise.then(function () {\n        return _this3.render();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      if (this.rendered) {\n        throwRenderTwice();\n      }\n      this.rendered = true;\n      if (Object.keys(this.compiled).length === 0) {\n        this.compile();\n      }\n      if (this.errors.length > 0) {\n        throwRenderInvalidTemplate();\n      }\n      if (arguments.length > 0) {\n        this.data = data;\n      }\n      this.setModules({\n        data: this.data,\n        Lexer: Lexer\n      });\n      this.mapper || (this.mapper = this.modules.reduce(function (value, module) {\n        return module.getRenderedMap(value);\n      }, {}));\n      var output = [];\n      for (var to in this.mapper) {\n        var _this$mapper$to2 = this.mapper[to],\n          from = _this$mapper$to2.from,\n          _data = _this$mapper$to2.data;\n        var currentFile = this.compiled[from];\n        currentFile.scopeManager = this.getScopeManager(to, currentFile, _data);\n        currentFile.render(to);\n        output.push([to, currentFile.content, currentFile]);\n        delete currentFile.content;\n      }\n      for (var _i24 = 0; _i24 < output.length; _i24++) {\n        var outputPart = output[_i24];\n        var _outputPart = _slicedToArray(outputPart, 3),\n          content = _outputPart[1],\n          _currentFile = _outputPart[2];\n        for (var _i26 = 0, _this$modules12 = this.modules; _i26 < _this$modules12.length; _i26++) {\n          var _module7 = _this$modules12[_i26];\n          if (_module7.preZip) {\n            var result = _module7.preZip(content, _currentFile);\n            if (typeof result === \"string\") {\n              outputPart[1] = result;\n            }\n          }\n        }\n      }\n      for (var _i28 = 0; _i28 < output.length; _i28++) {\n        var _output$_i = _slicedToArray(output[_i28], 2),\n          _to = _output$_i[0],\n          _content = _output$_i[1];\n        this.zip.file(_to, _content, {\n          createFolders: true\n        });\n      }\n      verifyErrors(this);\n      this.sendEvent(\"syncing-zip\");\n      this.syncZip();\n      // The synced-zip event is used in the subtemplate module for example\n      this.sendEvent(\"synced-zip\");\n      return this;\n    }\n  }, {\n    key: \"syncZip\",\n    value: function syncZip() {\n      for (var fileName in this.xmlDocuments) {\n        this.zip.remove(fileName);\n        var content = xml2str(this.xmlDocuments[fileName]);\n        this.zip.file(fileName, content, {\n          createFolders: true\n        });\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      deprecatedMethod(this, \"setData\");\n      this.data = data;\n      return this;\n    }\n  }, {\n    key: \"getZip\",\n    value: function getZip() {\n      return this.zip;\n    }\n  }, {\n    key: \"createTemplateClass\",\n    value: function createTemplateClass(path) {\n      var content = this.zip.files[path].asText();\n      return this.createTemplateClassFromContent(content, path);\n    }\n  }, {\n    key: \"createTemplateClassFromContent\",\n    value: function createTemplateClassFromContent(content, filePath) {\n      var xmltOptions = {\n        filePath: filePath,\n        contentType: this.filesContentTypes[filePath],\n        relsType: this.relsTypes[filePath]\n      };\n      var defaults = getDefaults();\n      var defaultKeys = pushArray(Object.keys(defaults), [\"filesContentTypes\", \"fileTypeConfig\", \"fileType\", \"modules\"]);\n      for (var _i30 = 0; _i30 < defaultKeys.length; _i30++) {\n        var key = defaultKeys[_i30];\n        xmltOptions[key] = this[key];\n      }\n      return new Docxtemplater.XmlTemplater(content, xmltOptions);\n    }\n  }, {\n    key: \"getFullText\",\n    value: function getFullText(path) {\n      return this.createTemplateClass(path || this.fileTypeConfig.textPath(this)).getFullText();\n    }\n  }, {\n    key: \"getTemplatedFiles\",\n    value: function getTemplatedFiles() {\n      this.templatedFiles = this.fileTypeConfig.getTemplatedFiles(this.zip);\n      pushArray(this.templatedFiles, this.targets);\n      this.templatedFiles = uniq(this.templatedFiles);\n      return this.templatedFiles;\n    }\n  }]);\n}();\nDocxtemplater.DocUtils = DocUtils;\nDocxtemplater.Errors = require(\"./errors.js\");\nDocxtemplater.XmlTemplater = require(\"./xml-templater.js\");\nDocxtemplater.FileTypeConfig = require(\"./file-type-config.js\");\nDocxtemplater.XmlMatcher = require(\"./xml-matcher.js\");\nmodule.exports = Docxtemplater;\nmodule.exports[\"default\"] = Docxtemplater;","map":{"version":3,"names":["_excluded","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","length","n","l","Symbol","iterator","i","u","f","o","next","Object","done","push","value","isArray","_typeof","prototype","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","hasOwnProperty","_classCallCheck","_defineProperties","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","String","Number","DocUtils","require","traits","moduleWrapper","createScope","Lexer","commonModule","deprecatedMessage","obj","message","hideDeprecations","console","warn","deprecatedMethod","method","concat","Error","stack","_require","throwMultiError","throwResolveBeforeCompile","throwRenderInvalidTemplate","throwRenderTwice","XTInternalError","throwFileTypeNotIdentified","throwFileTypeNotHandled","throwApiVersionError","logErrors","collectContentTypes","getDefaults","str2xml","xml2str","concatArrays","uniq","getDuplicates","stableSort","pushArray","ctXML","relsFile","currentModuleApiVersion","dropUnsupportedFileTypesModules","doc","modules","filter","module","supportedFileTypes","isSupportedModule","includes","fileType","on","verifyErrors","compiled","errors","keys","map","allErrors","options","errorLogging","Docxtemplater","zip","_ref","arguments","undefined","_ref$modules","targets","rendered","scopeManagers","xmlDocuments","setOptions","files","file","_i2","_module","attachModule","loadZip","compile","v4Constructor","verifyApiVersion","neededVersion","split","parseInt","explanation","join","setModules","_i4","_this$modules2","_module2","set","sendEvent","eventName","_i6","_this$modules4","_module3","moduleType","requiredAPIVersion","attached","clone","wrappedModule","_this$delimiters","_this$delimiters2","defaults","defaultValue","delimiters","start","utf8ToWord","end","loadAsync","updateFileTypeConfig","fileTypeConfig","baseModules","moduleFunction","_i8","_this$modules6","_module4","docxtemplater","precompileFile","fileName","currentFile","createTemplateClass","preparse","compileFile","parse","getScopeManager","to","tags","_this$scopeManagers","parser","cachedParsers","resolveData","data","_this","Promise","resolve","then","mapper","reduce","getRenderedMap","all","_this$mapper$to","filePath","scopeManager","resolveTags","result","finishedResolving","errs","apply","resolved","reorderModules","m1","m2","priority","throwIfDuplicateModules","duplicates","_ref2","_this2","optionsTransformer","xmlFileNames","_i10","_this$options$xmlFile2","content","asText","getTemplatedFiles","_i12","_this$templatedFiles2","templatedFiles","_fileName","_i14","_this$templatedFiles4","_fileName2","getRelsTypes","rootRels","rootRelsXml","rootRelationships","getElementsByTagName","relsTypes","_i16","relation","getAttribute","getContentTypes","contentTypes","contentTypeXml","overrides","mimetype","_this$getContentTypes","filesContentTypes","invertedContentTypes","invertMap","_i18","_this$modules8","_module5","getFileType","_i20","_this$modules10","_module6","_i22","_ref4","xmlContentTypes","contentType","FileTypeConfig","renderAsync","_this3","promise","render","output","_this$mapper$to2","_data","_i24","outputPart","_outputPart","_currentFile","_i26","_this$modules12","_module7","preZip","_i28","_output$_i","_to","_content","createFolders","syncZip","remove","setData","getZip","path","createTemplateClassFromContent","xmltOptions","relsType","defaultKeys","_i30","XmlTemplater","getFullText","textPath","Errors","XmlMatcher","exports"],"sources":["C:/Users/rc_sh/Desktop/Unidad oftalmologica/Clinica_rosmarian_castillo/frontend/node_modules/docxtemplater/js/docxtemplater.js"],"sourcesContent":["\"use strict\";\n\nvar _excluded = [\"modules\"];\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DocUtils = require(\"./doc-utils.js\");\nDocUtils.traits = require(\"./traits.js\");\nDocUtils.moduleWrapper = require(\"./module-wrapper.js\");\nvar createScope = require(\"./scope-manager.js\");\nvar Lexer = require(\"./lexer.js\");\nvar commonModule = require(\"./modules/common.js\");\nfunction deprecatedMessage(obj, message) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.warn(message);\n}\nfunction deprecatedMethod(obj, method) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  return deprecatedMessage(obj, \"Deprecated method \\\".\".concat(method, \"\\\", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \").concat(new Error().stack));\n}\nvar _require = require(\"./errors.js\"),\n  throwMultiError = _require.throwMultiError,\n  throwResolveBeforeCompile = _require.throwResolveBeforeCompile,\n  throwRenderInvalidTemplate = _require.throwRenderInvalidTemplate,\n  throwRenderTwice = _require.throwRenderTwice,\n  XTInternalError = _require.XTInternalError,\n  throwFileTypeNotIdentified = _require.throwFileTypeNotIdentified,\n  throwFileTypeNotHandled = _require.throwFileTypeNotHandled,\n  throwApiVersionError = _require.throwApiVersionError;\nvar logErrors = require(\"./error-logger.js\");\nvar collectContentTypes = require(\"./collect-content-types.js\");\nvar getDefaults = DocUtils.getDefaults,\n  str2xml = DocUtils.str2xml,\n  xml2str = DocUtils.xml2str,\n  moduleWrapper = DocUtils.moduleWrapper,\n  concatArrays = DocUtils.concatArrays,\n  uniq = DocUtils.uniq,\n  getDuplicates = DocUtils.getDuplicates,\n  stableSort = DocUtils.stableSort,\n  pushArray = DocUtils.pushArray;\nvar ctXML = \"[Content_Types].xml\";\nvar relsFile = \"_rels/.rels\";\nvar currentModuleApiVersion = [3, 44, 0];\nfunction dropUnsupportedFileTypesModules(doc) {\n  doc.modules = doc.modules.filter(function (module) {\n    if (!module.supportedFileTypes) {\n      return true;\n    }\n    if (!Array.isArray(module.supportedFileTypes)) {\n      throw new Error(\"The supportedFileTypes field of the module must be an array\");\n    }\n    var isSupportedModule = module.supportedFileTypes.includes(doc.fileType);\n    if (!isSupportedModule) {\n      module.on(\"detached\");\n    }\n    return isSupportedModule;\n  });\n}\nfunction verifyErrors(doc) {\n  var compiled = doc.compiled;\n  doc.errors = concatArrays(Object.keys(compiled).map(function (name) {\n    return compiled[name].allErrors;\n  }));\n  if (doc.errors.length !== 0) {\n    if (doc.options.errorLogging) {\n      logErrors(doc.errors, doc.options.errorLogging);\n    }\n    throwMultiError(doc.errors);\n  }\n}\nvar Docxtemplater = /*#__PURE__*/function () {\n  function Docxtemplater(zip) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$modules = _ref.modules,\n      modules = _ref$modules === void 0 ? [] : _ref$modules,\n      options = _objectWithoutProperties(_ref, _excluded);\n    _classCallCheck(this, Docxtemplater);\n    this.targets = [];\n    this.rendered = false;\n    this.scopeManagers = {};\n    this.compiled = {};\n    this.modules = [commonModule()];\n    this.xmlDocuments = {};\n    if (arguments.length === 0) {\n      deprecatedMessage(this, \"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \".concat(new Error().stack));\n      this.hideDeprecations = true;\n      this.setOptions(options);\n    } else {\n      this.hideDeprecations = true;\n      this.setOptions(options);\n      if (!zip || !zip.files || typeof zip.file !== \"function\") {\n        throw new Error(\"The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      if (!Array.isArray(modules)) {\n        throw new Error(\"The modules argument of docxtemplater's constructor must be an array\");\n      }\n      for (var _i2 = 0; _i2 < modules.length; _i2++) {\n        var _module = modules[_i2];\n        this.attachModule(_module);\n      }\n      this.loadZip(zip);\n      this.compile();\n      this.v4Constructor = true;\n    }\n    this.hideDeprecations = false;\n  }\n  return _createClass(Docxtemplater, [{\n    key: \"verifyApiVersion\",\n    value: function verifyApiVersion(neededVersion) {\n      neededVersion = neededVersion.split(\".\").map(function (i) {\n        return parseInt(i, 10);\n      });\n      if (neededVersion.length !== 3) {\n        throwApiVersionError(\"neededVersion is not a valid version\", {\n          neededVersion: neededVersion,\n          explanation: \"the neededVersion must be an array of length 3\"\n        });\n      }\n      if (neededVersion[0] !== currentModuleApiVersion[0]) {\n        throwApiVersionError(\"The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] > currentModuleApiVersion[1]) {\n        throwApiVersionError(\"The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] === currentModuleApiVersion[1] && neededVersion[2] > currentModuleApiVersion[2]) {\n        throwApiVersionError(\"The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"setModules\",\n    value: function setModules(obj) {\n      for (var _i4 = 0, _this$modules2 = this.modules; _i4 < _this$modules2.length; _i4++) {\n        var _module2 = _this$modules2[_i4];\n        _module2.set(obj);\n      }\n    }\n  }, {\n    key: \"sendEvent\",\n    value: function sendEvent(eventName) {\n      for (var _i6 = 0, _this$modules4 = this.modules; _i6 < _this$modules4.length; _i6++) {\n        var _module3 = _this$modules4[_i6];\n        _module3.on(eventName);\n      }\n    }\n  }, {\n    key: \"attachModule\",\n    value: function attachModule(module) {\n      if (this.v4Constructor) {\n        throw new XTInternalError(\"attachModule() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"attachModule\");\n      var moduleType = _typeof(module);\n      if (moduleType === \"function\") {\n        throw new XTInternalError(\"Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.\");\n      }\n      if (!module || moduleType !== \"object\") {\n        throw new XTInternalError(\"Cannot attachModule with a falsy value\");\n      }\n      if (module.requiredAPIVersion) {\n        this.verifyApiVersion(module.requiredAPIVersion);\n      }\n      if (module.attached === true) {\n        if (typeof module.clone === \"function\") {\n          module = module.clone();\n        } else {\n          throw new Error(\"Cannot attach a module that was already attached : \\\"\".concat(module.name, \"\\\". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater\"));\n        }\n      }\n      module.attached = true;\n      var wrappedModule = moduleWrapper(module);\n      this.modules.push(wrappedModule);\n      wrappedModule.on(\"attached\");\n      if (this.fileType) {\n        dropUnsupportedFileTypesModules(this);\n      }\n      return this;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this$delimiters, _this$delimiters2;\n      if (this.v4Constructor) {\n        throw new Error(\"setOptions() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"setOptions\");\n      if (!options) {\n        throw new Error(\"setOptions should be called with an object as first parameter\");\n      }\n      this.options = {};\n      var defaults = getDefaults();\n      for (var key in defaults) {\n        var defaultValue = defaults[key];\n        this.options[key] = options[key] != null ? options[key] : this[key] || defaultValue;\n        this[key] = this.options[key];\n      }\n      (_this$delimiters = this.delimiters).start && (_this$delimiters.start = DocUtils.utf8ToWord(this.delimiters.start));\n      (_this$delimiters2 = this.delimiters).end && (_this$delimiters2.end = DocUtils.utf8ToWord(this.delimiters.end));\n      return this;\n    }\n  }, {\n    key: \"loadZip\",\n    value: function loadZip(zip) {\n      if (this.v4Constructor) {\n        throw new Error(\"loadZip() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"loadZip\");\n      if (zip.loadAsync) {\n        throw new XTInternalError(\"Docxtemplater doesn't handle JSZip version >=3, please use pizzip\");\n      }\n      this.zip = zip;\n      this.updateFileTypeConfig();\n      this.modules = concatArrays([this.fileTypeConfig.baseModules.map(function (moduleFunction) {\n        return moduleFunction();\n      }), this.modules]);\n      for (var _i8 = 0, _this$modules6 = this.modules; _i8 < _this$modules6.length; _i8++) {\n        var _module4 = _this$modules6[_i8];\n        _module4.zip = this.zip;\n        _module4.docxtemplater = this;\n      }\n      dropUnsupportedFileTypesModules(this);\n      return this;\n    }\n  }, {\n    key: \"precompileFile\",\n    value: function precompileFile(fileName) {\n      var currentFile = this.createTemplateClass(fileName);\n      currentFile.preparse();\n      this.compiled[fileName] = currentFile;\n    }\n  }, {\n    key: \"compileFile\",\n    value: function compileFile(fileName) {\n      this.compiled[fileName].parse();\n    }\n  }, {\n    key: \"getScopeManager\",\n    value: function getScopeManager(to, currentFile, tags) {\n      var _this$scopeManagers;\n      (_this$scopeManagers = this.scopeManagers)[to] || (_this$scopeManagers[to] = createScope({\n        tags: tags,\n        parser: this.parser,\n        cachedParsers: currentFile.cachedParsers\n      }));\n      return this.scopeManagers[to];\n    }\n  }, {\n    key: \"resolveData\",\n    value: function resolveData(data) {\n      var _this = this;\n      deprecatedMethod(this, \"resolveData\");\n      var errors = [];\n      if (!Object.keys(this.compiled).length) {\n        throwResolveBeforeCompile();\n      }\n      return Promise.resolve(data).then(function (data) {\n        _this.data = data;\n        _this.setModules({\n          data: _this.data,\n          Lexer: Lexer\n        });\n        _this.mapper = _this.modules.reduce(function (value, module) {\n          return module.getRenderedMap(value);\n        }, {});\n        return Promise.all(Object.keys(_this.mapper).map(function (to) {\n          var _this$mapper$to = _this.mapper[to],\n            from = _this$mapper$to.from,\n            data = _this$mapper$to.data;\n          return Promise.resolve(data).then(function (data) {\n            var currentFile = _this.compiled[from];\n            currentFile.filePath = to;\n            currentFile.scopeManager = _this.getScopeManager(to, currentFile, data);\n            return currentFile.resolveTags(data).then(function (result) {\n              currentFile.scopeManager.finishedResolving = true;\n              return result;\n            }, function (errs) {\n              Array.prototype.push.apply(errors, errs);\n            });\n          });\n        })).then(function (resolved) {\n          if (errors.length !== 0) {\n            if (_this.options.errorLogging) {\n              logErrors(errors, _this.options.errorLogging);\n            }\n            throwMultiError(errors);\n          }\n          return concatArrays(resolved);\n        });\n      });\n    }\n  }, {\n    key: \"reorderModules\",\n    value: function reorderModules() {\n      /**\n       * Modules will be sorted according to priority.\n       *\n       * Input example:\n       * [\n       *   { priority: 1, name: \"FooMod\" },\n       *   { priority: -1, name: \"XMod\" },\n       *   { priority: 4, name: \"OtherMod\" }\n       * ]\n       *\n       * Output example (sorted by priority in descending order):\n       * [\n       *   { priority: 4, name: \"OtherMod\" },\n       *   { priority: 1, name: \"FooMod\" },\n       *   { priority: -1, name: \"XMod\" }\n       * ]\n       */\n      this.modules = stableSort(this.modules, function (m1, m2) {\n        return (m2.priority || 0) - (m1.priority || 0);\n      });\n    }\n  }, {\n    key: \"throwIfDuplicateModules\",\n    value: function throwIfDuplicateModules() {\n      var duplicates = getDuplicates(this.modules.map(function (_ref2) {\n        var name = _ref2.name;\n        return name;\n      }));\n      if (duplicates.length > 0) {\n        throw new XTInternalError(\"Detected duplicate module \\\"\".concat(duplicates[0], \"\\\"\"));\n      }\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      var _this2 = this;\n      deprecatedMethod(this, \"compile\");\n      this.updateFileTypeConfig();\n      this.throwIfDuplicateModules();\n      this.reorderModules();\n      if (Object.keys(this.compiled).length) {\n        return this;\n      }\n      this.options = this.modules.reduce(function (options, module) {\n        return module.optionsTransformer(options, _this2);\n      }, this.options);\n      this.options.xmlFileNames = uniq(this.options.xmlFileNames);\n      for (var _i10 = 0, _this$options$xmlFile2 = this.options.xmlFileNames; _i10 < _this$options$xmlFile2.length; _i10++) {\n        var fileName = _this$options$xmlFile2[_i10];\n        var content = this.zip.files[fileName].asText();\n        this.xmlDocuments[fileName] = str2xml(content);\n      }\n      this.setModules({\n        zip: this.zip,\n        xmlDocuments: this.xmlDocuments\n      });\n      this.getTemplatedFiles();\n      /*\n       * Loop inside all templatedFiles (ie xml files with content).\n       * Sometimes they don't exist (footer.xml for example)\n       */\n      for (var _i12 = 0, _this$templatedFiles2 = this.templatedFiles; _i12 < _this$templatedFiles2.length; _i12++) {\n        var _fileName = _this$templatedFiles2[_i12];\n        if (this.zip.files[_fileName] != null) {\n          this.precompileFile(_fileName);\n        }\n      }\n      for (var _i14 = 0, _this$templatedFiles4 = this.templatedFiles; _i14 < _this$templatedFiles4.length; _i14++) {\n        var _fileName2 = _this$templatedFiles4[_i14];\n        if (this.zip.files[_fileName2] != null) {\n          this.compileFile(_fileName2);\n        }\n      }\n      this.setModules({\n        compiled: this.compiled\n      });\n      verifyErrors(this);\n      return this;\n    }\n  }, {\n    key: \"getRelsTypes\",\n    value: function getRelsTypes() {\n      var rootRels = this.zip.files[relsFile];\n      var rootRelsXml = rootRels ? str2xml(rootRels.asText()) : null;\n      var rootRelationships = rootRelsXml ? rootRelsXml.getElementsByTagName(\"Relationship\") : [];\n      var relsTypes = {};\n      for (var _i16 = 0; _i16 < rootRelationships.length; _i16++) {\n        var relation = rootRelationships[_i16];\n        relsTypes[relation.getAttribute(\"Target\")] = relation.getAttribute(\"Type\");\n      }\n      return relsTypes;\n    }\n  }, {\n    key: \"getContentTypes\",\n    value: function getContentTypes() {\n      var contentTypes = this.zip.files[ctXML];\n      var contentTypeXml = contentTypes ? str2xml(contentTypes.asText()) : null;\n      var overrides = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Override\") : null;\n      var defaults = contentTypeXml ? contentTypeXml.getElementsByTagName(\"Default\") : null;\n      return {\n        overrides: overrides,\n        defaults: defaults,\n        contentTypes: contentTypes,\n        contentTypeXml: contentTypeXml\n      };\n    }\n  }, {\n    key: \"updateFileTypeConfig\",\n    value: function updateFileTypeConfig() {\n      var fileType;\n      if (this.zip.files.mimetype) {\n        fileType = \"odt\";\n      }\n      this.relsTypes = this.getRelsTypes();\n      var _this$getContentTypes = this.getContentTypes(),\n        overrides = _this$getContentTypes.overrides,\n        defaults = _this$getContentTypes.defaults,\n        contentTypes = _this$getContentTypes.contentTypes,\n        contentTypeXml = _this$getContentTypes.contentTypeXml;\n      if (contentTypeXml) {\n        this.filesContentTypes = collectContentTypes(overrides, defaults, this.zip);\n        this.invertedContentTypes = DocUtils.invertMap(this.filesContentTypes);\n        this.setModules({\n          contentTypes: this.contentTypes,\n          invertedContentTypes: this.invertedContentTypes\n        });\n      }\n      for (var _i18 = 0, _this$modules8 = this.modules; _i18 < _this$modules8.length; _i18++) {\n        var _module5 = _this$modules8[_i18];\n        fileType = _module5.getFileType({\n          zip: this.zip,\n          contentTypes: contentTypes,\n          contentTypeXml: contentTypeXml,\n          overrides: overrides,\n          defaults: defaults,\n          doc: this\n        }) || fileType;\n      }\n      if (fileType === \"odt\") {\n        throwFileTypeNotHandled(fileType);\n      }\n      if (!fileType) {\n        throwFileTypeNotIdentified(this.zip);\n      }\n      for (var _i20 = 0, _this$modules10 = this.modules; _i20 < _this$modules10.length; _i20++) {\n        var _module6 = _this$modules10[_i20];\n        for (var _i22 = 0, _ref4 = _module6.xmlContentTypes || []; _i22 < _ref4.length; _i22++) {\n          var contentType = _ref4[_i22];\n          pushArray(this.options.xmlFileNames, this.invertedContentTypes[contentType] || []);\n        }\n      }\n      this.fileType = fileType;\n      dropUnsupportedFileTypesModules(this);\n      this.fileTypeConfig = this.options.fileTypeConfig || this.fileTypeConfig || Docxtemplater.FileTypeConfig[this.fileType]();\n      return this;\n    }\n  }, {\n    key: \"renderAsync\",\n    value: function renderAsync(data) {\n      var _this3 = this;\n      this.hideDeprecations = true;\n      var promise = this.resolveData(data);\n      this.hideDeprecations = false;\n      return promise.then(function () {\n        return _this3.render();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      if (this.rendered) {\n        throwRenderTwice();\n      }\n      this.rendered = true;\n      if (Object.keys(this.compiled).length === 0) {\n        this.compile();\n      }\n      if (this.errors.length > 0) {\n        throwRenderInvalidTemplate();\n      }\n      if (arguments.length > 0) {\n        this.data = data;\n      }\n      this.setModules({\n        data: this.data,\n        Lexer: Lexer\n      });\n      this.mapper || (this.mapper = this.modules.reduce(function (value, module) {\n        return module.getRenderedMap(value);\n      }, {}));\n      var output = [];\n      for (var to in this.mapper) {\n        var _this$mapper$to2 = this.mapper[to],\n          from = _this$mapper$to2.from,\n          _data = _this$mapper$to2.data;\n        var currentFile = this.compiled[from];\n        currentFile.scopeManager = this.getScopeManager(to, currentFile, _data);\n        currentFile.render(to);\n        output.push([to, currentFile.content, currentFile]);\n        delete currentFile.content;\n      }\n      for (var _i24 = 0; _i24 < output.length; _i24++) {\n        var outputPart = output[_i24];\n        var _outputPart = _slicedToArray(outputPart, 3),\n          content = _outputPart[1],\n          _currentFile = _outputPart[2];\n        for (var _i26 = 0, _this$modules12 = this.modules; _i26 < _this$modules12.length; _i26++) {\n          var _module7 = _this$modules12[_i26];\n          if (_module7.preZip) {\n            var result = _module7.preZip(content, _currentFile);\n            if (typeof result === \"string\") {\n              outputPart[1] = result;\n            }\n          }\n        }\n      }\n      for (var _i28 = 0; _i28 < output.length; _i28++) {\n        var _output$_i = _slicedToArray(output[_i28], 2),\n          _to = _output$_i[0],\n          _content = _output$_i[1];\n        this.zip.file(_to, _content, {\n          createFolders: true\n        });\n      }\n      verifyErrors(this);\n      this.sendEvent(\"syncing-zip\");\n      this.syncZip();\n      // The synced-zip event is used in the subtemplate module for example\n      this.sendEvent(\"synced-zip\");\n      return this;\n    }\n  }, {\n    key: \"syncZip\",\n    value: function syncZip() {\n      for (var fileName in this.xmlDocuments) {\n        this.zip.remove(fileName);\n        var content = xml2str(this.xmlDocuments[fileName]);\n        this.zip.file(fileName, content, {\n          createFolders: true\n        });\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      deprecatedMethod(this, \"setData\");\n      this.data = data;\n      return this;\n    }\n  }, {\n    key: \"getZip\",\n    value: function getZip() {\n      return this.zip;\n    }\n  }, {\n    key: \"createTemplateClass\",\n    value: function createTemplateClass(path) {\n      var content = this.zip.files[path].asText();\n      return this.createTemplateClassFromContent(content, path);\n    }\n  }, {\n    key: \"createTemplateClassFromContent\",\n    value: function createTemplateClassFromContent(content, filePath) {\n      var xmltOptions = {\n        filePath: filePath,\n        contentType: this.filesContentTypes[filePath],\n        relsType: this.relsTypes[filePath]\n      };\n      var defaults = getDefaults();\n      var defaultKeys = pushArray(Object.keys(defaults), [\"filesContentTypes\", \"fileTypeConfig\", \"fileType\", \"modules\"]);\n      for (var _i30 = 0; _i30 < defaultKeys.length; _i30++) {\n        var key = defaultKeys[_i30];\n        xmltOptions[key] = this[key];\n      }\n      return new Docxtemplater.XmlTemplater(content, xmltOptions);\n    }\n  }, {\n    key: \"getFullText\",\n    value: function getFullText(path) {\n      return this.createTemplateClass(path || this.fileTypeConfig.textPath(this)).getFullText();\n    }\n  }, {\n    key: \"getTemplatedFiles\",\n    value: function getTemplatedFiles() {\n      this.templatedFiles = this.fileTypeConfig.getTemplatedFiles(this.zip);\n      pushArray(this.templatedFiles, this.targets);\n      this.templatedFiles = uniq(this.templatedFiles);\n      return this.templatedFiles;\n    }\n  }]);\n}();\nDocxtemplater.DocUtils = DocUtils;\nDocxtemplater.Errors = require(\"./errors.js\");\nDocxtemplater.XmlTemplater = require(\"./xml-templater.js\");\nDocxtemplater.FileTypeConfig = require(\"./file-type-config.js\");\nDocxtemplater.XmlMatcher = require(\"./xml-matcher.js\");\nmodule.exports = Docxtemplater;\nmodule.exports[\"default\"] = Docxtemplater;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}