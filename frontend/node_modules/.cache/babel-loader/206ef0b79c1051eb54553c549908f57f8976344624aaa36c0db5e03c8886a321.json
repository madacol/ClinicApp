{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar _require = require(\"./doc-utils.js\"),\n  getRightOrNull = _require.getRightOrNull,\n  getRight = _require.getRight,\n  getLeft = _require.getLeft,\n  getLeftOrNull = _require.getLeftOrNull,\n  chunkBy = _require.chunkBy,\n  isTagStart = _require.isTagStart,\n  isTagEnd = _require.isTagEnd,\n  isContent = _require.isContent,\n  last = _require.last,\n  first = _require.first;\nvar _require2 = require(\"./errors.js\"),\n  XTTemplateError = _require2.XTTemplateError,\n  throwExpandNotFound = _require2.throwExpandNotFound,\n  getLoopPositionProducesInvalidXMLError = _require2.getLoopPositionProducesInvalidXMLError;\nfunction lastTagIsOpenTag(tags, tag) {\n  if (tags.length === 0) {\n    return false;\n  }\n  var innerLastTag = last(tags).substr(1);\n  return innerLastTag.indexOf(tag) === 0;\n}\nfunction getListXmlElements(parts) {\n  /*\n   * Gets the list of closing and opening tags between two texts. It doesn't take\n   * into account tags that are opened then closed. Those that are closed then\n   * opened are kept\n   *\n   * Example input :\n   *\n   * [\n   * \t{\n   * \t\t\"type\": \"placeholder\",\n   * \t\t\"value\": \"table1\",\n   * \t\t...\n   * \t},\n   * \t{\n   * \t\t\"type\": \"placeholder\",\n   * \t\t\"value\": \"t1data1\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"position\": \"end\",\n   * \t\t\"text\": true,\n   * \t\t\"value\": \"</w:t>\",\n   * \t\t\"tag\": \"w:t\",\n   * \t\t\"lIndex\": 112\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"</w:r>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"</w:p>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"</w:tc>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"<w:tc>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"content\",\n   * \t\t\"value\": \"<w:tcPr><w:tcW w:w=\"2444\" w:type=\"dxa\"/><w:tcBorders><w:top w:val=\"nil\"/><w:left w:val=\"nil\"/><w:bottom w:val=\"nil\"/><w:right w:val=\"nil\"/></w:tcBorders><w:shd w:val=\"clear\" w:color=\"auto\" w:fill=\"FFFFFF\"/></w:tcPr>\",\n   * \t},\n   * \t...\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"<w:r>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"<w:t xml:space=\"preserve\">\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"placeholder\",\n   * \t\t\"value\": \"t1data4\",\n   * \t}\n   * ]\n   *\n   * Returns\n   *\n   * \t[\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:t>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:r>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:p>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:tc>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:tc>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:p>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:r>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:t>\",\n   * \t\t},\n   * \t]\n   */\n\n  var result = [];\n  for (var _i2 = 0; _i2 < parts.length; _i2++) {\n    var _parts$_i = parts[_i2],\n      position = _parts$_i.position,\n      value = _parts$_i.value,\n      tag = _parts$_i.tag;\n    // Stryker disable all : because removing this condition would also work but we want to make the API future proof\n    if (!tag) {\n      continue;\n    }\n    // Stryker restore all\n    if (position === \"end\") {\n      if (lastTagIsOpenTag(result, tag)) {\n        result.pop();\n      } else {\n        result.push(value);\n      }\n    } else if (position === \"start\") {\n      result.push(value);\n    }\n    // ignore position === \"selfclosing\"\n  }\n  return result;\n}\nfunction has(name, xmlElements) {\n  for (var _i4 = 0; _i4 < xmlElements.length; _i4++) {\n    var xmlElement = xmlElements[_i4];\n    if (xmlElement.indexOf(\"<\".concat(name)) === 0) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getExpandToDefault(postparsed, pair, expandTags) {\n  var parts = postparsed.slice(pair[0].offset, pair[1].offset);\n  var xmlElements = getListXmlElements(parts);\n  var closingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] === \"/\";\n  }).length;\n  var startingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] !== \"/\" && tag[tag.length - 2] !== \"/\";\n  }).length;\n  if (closingTagCount !== startingTagCount) {\n    return {\n      error: getLoopPositionProducesInvalidXMLError({\n        tag: first(pair).part.value,\n        offset: [first(pair).part.offset, last(pair).part.offset]\n      })\n    };\n  }\n  var _loop = function _loop() {\n      var _expandTags$_i = expandTags[_i6],\n        contains = _expandTags$_i.contains,\n        expand = _expandTags$_i.expand,\n        onlyTextInTag = _expandTags$_i.onlyTextInTag;\n      if (has(contains, xmlElements)) {\n        if (onlyTextInTag) {\n          var left = getLeftOrNull(postparsed, contains, pair[0].offset);\n          var right = getRightOrNull(postparsed, contains, pair[1].offset);\n          if (left === null || right === null) {\n            return 0; // continue\n          }\n          var chunks = chunkBy(postparsed.slice(left, right), function (p) {\n            return isTagStart(contains, p) ? \"start\" : isTagEnd(contains, p) ? \"end\" : null;\n          });\n          var firstChunk = first(chunks);\n          var lastChunk = last(chunks);\n          var firstContent = firstChunk.filter(isContent);\n          var lastContent = lastChunk.filter(isContent);\n          if (firstContent.length !== 1 || lastContent.length !== 1) {\n            return 0; // continue\n          }\n        }\n        return {\n          v: {\n            value: expand\n          }\n        };\n      }\n    },\n    _ret;\n  for (var _i6 = 0; _i6 < expandTags.length; _i6++) {\n    _ret = _loop();\n    if (_ret === 0) continue;\n    if (_ret) return _ret.v;\n  }\n  return {};\n}\nfunction getExpandLimit(part, index, postparsed, options) {\n  var expandTo = part.expandTo || options.expandTo;\n  // Stryker disable all : because this condition can be removed in v4 (the only usage was the image module before version 3.12.3 of the image module\n  if (!expandTo) {\n    return;\n  }\n  // Stryker restore all\n  var right, left;\n  try {\n    left = getLeft(postparsed, expandTo, index);\n    right = getRight(postparsed, expandTo, index);\n  } catch (rootError) {\n    var errProps = _objectSpread({\n      part: part,\n      rootError: rootError,\n      postparsed: postparsed,\n      expandTo: expandTo,\n      index: index\n    }, options.error);\n    if (options.onError) {\n      var errorResult = options.onError(errProps);\n      if (errorResult === \"ignore\") {\n        return;\n      }\n    }\n    throwExpandNotFound(errProps);\n  }\n  return [left, right];\n}\nfunction expandOne(_ref, part, postparsed, options) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    left = _ref2[0],\n    right = _ref2[1];\n  var index = postparsed.indexOf(part);\n  var leftParts = postparsed.slice(left, index);\n  var rightParts = postparsed.slice(index + 1, right + 1);\n  var inner = options.getInner({\n    postparse: options.postparse,\n    index: index,\n    part: part,\n    leftParts: leftParts,\n    rightParts: rightParts,\n    left: left,\n    right: right,\n    postparsed: postparsed\n  });\n  if (!inner.length) {\n    inner.expanded = [leftParts, rightParts];\n    inner = [inner];\n  }\n  return {\n    left: left,\n    right: right,\n    inner: inner\n  };\n}\n\n/* eslint-disable-next-line complexity */\nfunction expandToOne(postparsed, options) {\n  var errors = [];\n  if (postparsed.errors) {\n    errors = postparsed.errors;\n    postparsed = postparsed.postparsed;\n  }\n  var limits = [];\n  for (var i = 0, len = postparsed.length; i < len; i++) {\n    var part = postparsed[i];\n    if (part.type === \"placeholder\" && part.module === options.moduleName &&\n    /*\n     * The part.subparsed check is used to fix this github issue :\n     * https://github.com/open-xml-templating/docxtemplater/issues/671\n     */\n    !part.subparsed && !part.expanded) {\n      try {\n        var limit = getExpandLimit(part, i, postparsed, options);\n        if (!limit) {\n          continue;\n        }\n        var _limit = _slicedToArray(limit, 2),\n          left = _limit[0],\n          right = _limit[1];\n        limits.push({\n          left: left,\n          right: right,\n          part: part,\n          i: i,\n          leftPart: postparsed[left],\n          rightPart: postparsed[right]\n        });\n      } catch (error) {\n        // The Error can only be a\n        errors.push(error);\n      }\n    }\n  }\n  limits.sort(function (l1, l2) {\n    if (l1.left === l2.left) {\n      return l2.part.lIndex < l1.part.lIndex ? 1 : -1;\n    }\n    return l2.left < l1.left ? 1 : -1;\n  });\n  var maxRight = -1;\n  var offset = 0;\n  for (var _i7 = 0, _len = limits.length; _i7 < _len; _i7++) {\n    var _postparsed;\n    var _limit2 = limits[_i7];\n    maxRight = Math.max(maxRight, _i7 > 0 ? limits[_i7 - 1].right : 0);\n    if (_limit2.left < maxRight) {\n      continue;\n    }\n    var result = void 0;\n    try {\n      result = expandOne([_limit2.left + offset, _limit2.right + offset], _limit2.part, postparsed, options);\n    } catch (error) {\n      if (options.onError) {\n        var errorResult = options.onError(_objectSpread({\n          part: _limit2.part,\n          rootError: error,\n          postparsed: postparsed,\n          expandOne: expandOne\n        }, options.errors));\n        if (errorResult === \"ignore\") {\n          continue;\n        }\n      }\n      if (error instanceof XTTemplateError) {\n        errors.push(error);\n      } else {\n        throw error;\n      }\n    }\n    if (!result) {\n      continue;\n    }\n    offset += result.inner.length - (result.right + 1 - result.left);\n    (_postparsed = postparsed).splice.apply(_postparsed, [result.left, result.right + 1 - result.left].concat(_toConsumableArray(result.inner)));\n  }\n  return {\n    postparsed: postparsed,\n    errors: errors\n  };\n}\nmodule.exports = {\n  expandToOne: expandToOne,\n  getExpandToDefault: getExpandToDefault\n};","map":{"version":3,"names":["_typeof","o","Symbol","iterator","constructor","prototype","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","Array","from","isArray","_arrayLikeToArray","_slicedToArray","e","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","a","t","toString","call","slice","name","test","length","n","l","i","u","f","next","Object","done","push","value","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","_toPrimitive","toPrimitive","String","Number","_require","require","getRightOrNull","getRight","getLeft","getLeftOrNull","chunkBy","isTagStart","isTagEnd","isContent","last","first","_require2","XTTemplateError","throwExpandNotFound","getLoopPositionProducesInvalidXMLError","lastTagIsOpenTag","tags","tag","innerLastTag","substr","indexOf","getListXmlElements","parts","result","_i2","_parts$_i","position","pop","has","xmlElements","_i4","xmlElement","concat","getExpandToDefault","postparsed","pair","expandTags","offset","closingTagCount","startingTagCount","error","part","_loop","_expandTags$_i","_i6","contains","expand","onlyTextInTag","left","right","chunks","p","firstChunk","lastChunk","firstContent","lastContent","v","_ret","getExpandLimit","index","options","expandTo","rootError","errProps","onError","errorResult","expandOne","_ref","_ref2","leftParts","rightParts","inner","getInner","postparse","expanded","expandToOne","errors","limits","len","type","module","moduleName","subparsed","limit","_limit","leftPart","rightPart","sort","l1","l2","lIndex","maxRight","_i7","_len","_postparsed","_limit2","Math","max","splice","exports"],"sources":["C:/Users/rc_sh/Desktop/Unidad oftalmologica/Clinica_rosmarian_castillo/frontend/node_modules/docxtemplater/js/traits.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar _require = require(\"./doc-utils.js\"),\n  getRightOrNull = _require.getRightOrNull,\n  getRight = _require.getRight,\n  getLeft = _require.getLeft,\n  getLeftOrNull = _require.getLeftOrNull,\n  chunkBy = _require.chunkBy,\n  isTagStart = _require.isTagStart,\n  isTagEnd = _require.isTagEnd,\n  isContent = _require.isContent,\n  last = _require.last,\n  first = _require.first;\nvar _require2 = require(\"./errors.js\"),\n  XTTemplateError = _require2.XTTemplateError,\n  throwExpandNotFound = _require2.throwExpandNotFound,\n  getLoopPositionProducesInvalidXMLError = _require2.getLoopPositionProducesInvalidXMLError;\nfunction lastTagIsOpenTag(tags, tag) {\n  if (tags.length === 0) {\n    return false;\n  }\n  var innerLastTag = last(tags).substr(1);\n  return innerLastTag.indexOf(tag) === 0;\n}\nfunction getListXmlElements(parts) {\n  /*\n   * Gets the list of closing and opening tags between two texts. It doesn't take\n   * into account tags that are opened then closed. Those that are closed then\n   * opened are kept\n   *\n   * Example input :\n   *\n   * [\n   * \t{\n   * \t\t\"type\": \"placeholder\",\n   * \t\t\"value\": \"table1\",\n   * \t\t...\n   * \t},\n   * \t{\n   * \t\t\"type\": \"placeholder\",\n   * \t\t\"value\": \"t1data1\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"position\": \"end\",\n   * \t\t\"text\": true,\n   * \t\t\"value\": \"</w:t>\",\n   * \t\t\"tag\": \"w:t\",\n   * \t\t\"lIndex\": 112\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"</w:r>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"</w:p>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"</w:tc>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"<w:tc>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"content\",\n   * \t\t\"value\": \"<w:tcPr><w:tcW w:w=\"2444\" w:type=\"dxa\"/><w:tcBorders><w:top w:val=\"nil\"/><w:left w:val=\"nil\"/><w:bottom w:val=\"nil\"/><w:right w:val=\"nil\"/></w:tcBorders><w:shd w:val=\"clear\" w:color=\"auto\" w:fill=\"FFFFFF\"/></w:tcPr>\",\n   * \t},\n   * \t...\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"<w:r>\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"tag\",\n   * \t\t\"value\": \"<w:t xml:space=\"preserve\">\",\n   * \t},\n   * \t{\n   * \t\t\"type\": \"placeholder\",\n   * \t\t\"value\": \"t1data4\",\n   * \t}\n   * ]\n   *\n   * Returns\n   *\n   * \t[\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:t>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:r>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:p>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"</w:tc>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:tc>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:p>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:r>\",\n   * \t\t},\n   * \t\t{\n   * \t\t\t\"tag\": \"<w:t>\",\n   * \t\t},\n   * \t]\n   */\n\n  var result = [];\n  for (var _i2 = 0; _i2 < parts.length; _i2++) {\n    var _parts$_i = parts[_i2],\n      position = _parts$_i.position,\n      value = _parts$_i.value,\n      tag = _parts$_i.tag;\n    // Stryker disable all : because removing this condition would also work but we want to make the API future proof\n    if (!tag) {\n      continue;\n    }\n    // Stryker restore all\n    if (position === \"end\") {\n      if (lastTagIsOpenTag(result, tag)) {\n        result.pop();\n      } else {\n        result.push(value);\n      }\n    } else if (position === \"start\") {\n      result.push(value);\n    }\n    // ignore position === \"selfclosing\"\n  }\n  return result;\n}\nfunction has(name, xmlElements) {\n  for (var _i4 = 0; _i4 < xmlElements.length; _i4++) {\n    var xmlElement = xmlElements[_i4];\n    if (xmlElement.indexOf(\"<\".concat(name)) === 0) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getExpandToDefault(postparsed, pair, expandTags) {\n  var parts = postparsed.slice(pair[0].offset, pair[1].offset);\n  var xmlElements = getListXmlElements(parts);\n  var closingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] === \"/\";\n  }).length;\n  var startingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] !== \"/\" && tag[tag.length - 2] !== \"/\";\n  }).length;\n  if (closingTagCount !== startingTagCount) {\n    return {\n      error: getLoopPositionProducesInvalidXMLError({\n        tag: first(pair).part.value,\n        offset: [first(pair).part.offset, last(pair).part.offset]\n      })\n    };\n  }\n  var _loop = function _loop() {\n      var _expandTags$_i = expandTags[_i6],\n        contains = _expandTags$_i.contains,\n        expand = _expandTags$_i.expand,\n        onlyTextInTag = _expandTags$_i.onlyTextInTag;\n      if (has(contains, xmlElements)) {\n        if (onlyTextInTag) {\n          var left = getLeftOrNull(postparsed, contains, pair[0].offset);\n          var right = getRightOrNull(postparsed, contains, pair[1].offset);\n          if (left === null || right === null) {\n            return 0; // continue\n          }\n          var chunks = chunkBy(postparsed.slice(left, right), function (p) {\n            return isTagStart(contains, p) ? \"start\" : isTagEnd(contains, p) ? \"end\" : null;\n          });\n          var firstChunk = first(chunks);\n          var lastChunk = last(chunks);\n          var firstContent = firstChunk.filter(isContent);\n          var lastContent = lastChunk.filter(isContent);\n          if (firstContent.length !== 1 || lastContent.length !== 1) {\n            return 0; // continue\n          }\n        }\n        return {\n          v: {\n            value: expand\n          }\n        };\n      }\n    },\n    _ret;\n  for (var _i6 = 0; _i6 < expandTags.length; _i6++) {\n    _ret = _loop();\n    if (_ret === 0) continue;\n    if (_ret) return _ret.v;\n  }\n  return {};\n}\nfunction getExpandLimit(part, index, postparsed, options) {\n  var expandTo = part.expandTo || options.expandTo;\n  // Stryker disable all : because this condition can be removed in v4 (the only usage was the image module before version 3.12.3 of the image module\n  if (!expandTo) {\n    return;\n  }\n  // Stryker restore all\n  var right, left;\n  try {\n    left = getLeft(postparsed, expandTo, index);\n    right = getRight(postparsed, expandTo, index);\n  } catch (rootError) {\n    var errProps = _objectSpread({\n      part: part,\n      rootError: rootError,\n      postparsed: postparsed,\n      expandTo: expandTo,\n      index: index\n    }, options.error);\n    if (options.onError) {\n      var errorResult = options.onError(errProps);\n      if (errorResult === \"ignore\") {\n        return;\n      }\n    }\n    throwExpandNotFound(errProps);\n  }\n  return [left, right];\n}\nfunction expandOne(_ref, part, postparsed, options) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    left = _ref2[0],\n    right = _ref2[1];\n  var index = postparsed.indexOf(part);\n  var leftParts = postparsed.slice(left, index);\n  var rightParts = postparsed.slice(index + 1, right + 1);\n  var inner = options.getInner({\n    postparse: options.postparse,\n    index: index,\n    part: part,\n    leftParts: leftParts,\n    rightParts: rightParts,\n    left: left,\n    right: right,\n    postparsed: postparsed\n  });\n  if (!inner.length) {\n    inner.expanded = [leftParts, rightParts];\n    inner = [inner];\n  }\n  return {\n    left: left,\n    right: right,\n    inner: inner\n  };\n}\n\n/* eslint-disable-next-line complexity */\nfunction expandToOne(postparsed, options) {\n  var errors = [];\n  if (postparsed.errors) {\n    errors = postparsed.errors;\n    postparsed = postparsed.postparsed;\n  }\n  var limits = [];\n  for (var i = 0, len = postparsed.length; i < len; i++) {\n    var part = postparsed[i];\n    if (part.type === \"placeholder\" && part.module === options.moduleName &&\n    /*\n     * The part.subparsed check is used to fix this github issue :\n     * https://github.com/open-xml-templating/docxtemplater/issues/671\n     */\n    !part.subparsed && !part.expanded) {\n      try {\n        var limit = getExpandLimit(part, i, postparsed, options);\n        if (!limit) {\n          continue;\n        }\n        var _limit = _slicedToArray(limit, 2),\n          left = _limit[0],\n          right = _limit[1];\n        limits.push({\n          left: left,\n          right: right,\n          part: part,\n          i: i,\n          leftPart: postparsed[left],\n          rightPart: postparsed[right]\n        });\n      } catch (error) {\n        // The Error can only be a\n        errors.push(error);\n      }\n    }\n  }\n  limits.sort(function (l1, l2) {\n    if (l1.left === l2.left) {\n      return l2.part.lIndex < l1.part.lIndex ? 1 : -1;\n    }\n    return l2.left < l1.left ? 1 : -1;\n  });\n  var maxRight = -1;\n  var offset = 0;\n  for (var _i7 = 0, _len = limits.length; _i7 < _len; _i7++) {\n    var _postparsed;\n    var _limit2 = limits[_i7];\n    maxRight = Math.max(maxRight, _i7 > 0 ? limits[_i7 - 1].right : 0);\n    if (_limit2.left < maxRight) {\n      continue;\n    }\n    var result = void 0;\n    try {\n      result = expandOne([_limit2.left + offset, _limit2.right + offset], _limit2.part, postparsed, options);\n    } catch (error) {\n      if (options.onError) {\n        var errorResult = options.onError(_objectSpread({\n          part: _limit2.part,\n          rootError: error,\n          postparsed: postparsed,\n          expandOne: expandOne\n        }, options.errors));\n        if (errorResult === \"ignore\") {\n          continue;\n        }\n      }\n      if (error instanceof XTTemplateError) {\n        errors.push(error);\n      } else {\n        throw error;\n      }\n    }\n    if (!result) {\n      continue;\n    }\n    offset += result.inner.length - (result.right + 1 - result.left);\n    (_postparsed = postparsed).splice.apply(_postparsed, [result.left, result.right + 1 - result.left].concat(_toConsumableArray(result.inner)));\n  }\n  return {\n    postparsed: postparsed,\n    errors: errors\n  };\n}\nmodule.exports = {\n  expandToOne: expandToOne,\n  getExpandToDefault: getExpandToDefault\n};"],"mappings":"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,sCAAsC;AAC3F,SAASC,gBAAgBA,CAACC,IAAI,EAAEC,GAAG,EAAE;EACnC,IAAID,IAAI,CAACjD,MAAM,KAAK,CAAC,EAAE;IACrB,OAAO,KAAK;EACd;EACA,IAAImD,YAAY,GAAGT,IAAI,CAACO,IAAI,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC;EACvC,OAAOD,YAAY,CAACE,OAAO,CAACH,GAAG,CAAC,KAAK,CAAC;AACxC;AACA,SAASI,kBAAkBA,CAACC,KAAK,EAAE;EACjC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEE,IAAIC,MAAM,GAAG,EAAE;EACf,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGF,KAAK,CAACvD,MAAM,EAAEyD,GAAG,EAAE,EAAE;IAC3C,IAAIC,SAAS,GAAGH,KAAK,CAACE,GAAG,CAAC;MACxBE,QAAQ,GAAGD,SAAS,CAACC,QAAQ;MAC7BjD,KAAK,GAAGgD,SAAS,CAAChD,KAAK;MACvBwC,GAAG,GAAGQ,SAAS,CAACR,GAAG;IACrB;IACA,IAAI,CAACA,GAAG,EAAE;MACR;IACF;IACA;IACA,IAAIS,QAAQ,KAAK,KAAK,EAAE;MACtB,IAAIX,gBAAgB,CAACQ,MAAM,EAAEN,GAAG,CAAC,EAAE;QACjCM,MAAM,CAACI,GAAG,CAAC,CAAC;MACd,CAAC,MAAM;QACLJ,MAAM,CAAC/C,IAAI,CAACC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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}